<div class="container">
  <h2>{{title}}</h2>

  <!-- Form for creating a new order -->
  <form name="createOrderForm" ng-submit="submitOrder()" novalidate>
    <div class="form-group">
      <label for="wineName">Wine Name:</label>
        <input type="text" id="wineName" name="wineName" class="form-control" ng-model="order.wineName"
          uib-typeahead="wine as wine.name for wine in getWineNames($viewValue)" typeahead-min-length="1" 
          placeholder="Search for a wine" required>
        <div ng-messages="createOrderForm.wineName.$error" ng-if="createOrderForm.wineName.$touched || showFormError">
        <div ng-message="required" class="text-danger">Wine Name is required.</div>
      </div>
    </div>

    <div class="form-group">
      <label for="quantity">Quantity:</label>
      <input type="text" id="quantity" name="quantity" class="form-control" ng-model="order.quantity"
             ng-pattern="/^\d+$/" required>
      <div ng-messages="createOrderForm.quantity.$error" ng-if="createOrderForm.quantity.$touched || showFormError">
        <div ng-message="required" class="text-danger">Quantity is required.</div>
        <div ng-message="pattern" class="text-danger">Quantity must be a number.</div>
      </div>
    </div>

    <div class="form-group">
      <label for="price">Price:</label>
      <input type="text" id="price" name="price" class="form-control" ng-model="order.price"
             ng-pattern="/^\d+(\.\d{1,2})?$/" required>
      <div ng-messages="createOrderForm.price.$error" ng-if="createOrderForm.price.$touched || showFormError">
        <div ng-message="required" class="text-danger">Price is required.</div>
        <div ng-message="pattern" class="text-danger">Price must be a valid number with up to two decimal places.</div>
      </div>
    </div>

    <div class="form-group">
      <label for="customer">Customer Name:</label>
      <input type="text" id="customer" name="customer" class="form-control" ng-model="order.customer" required>
      <div ng-messages="createOrderForm.customer.$error" ng-if="createOrderForm.customer.$touched || showFormError">
        <div ng-message="required" class="text-danger">Customer name is required.</div>
      </div>
    </div>

    <div class="form-group">
      <label for="orderDate">Order Date:</label>
      <input type="text" name="date" id="date" class="form-control" placeholder="DD-MM-YYYY" ng-model="order.orderDate"
        uib-datepicker-popup="{{format}}" is-open="datePopup.opened" datepicker-options="dateOptions" close-text="Close"
        ng-click="openDatePicker('datePopup')" ng-required="true" custom-date-validator />
      <div ng-messages="createOrderForm.date.$error" ng-if="createOrderForm.date.$touched || showFormError">
        <div ng-message="required" class="text-danger">Order Date is required.</div>
        <div ng-message="invalidDate" class="text-danger">Order Date cannot be in the past or on weekends.</div>
      </div>
    </div>

    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
</div>
